====== Kamailio SIP Server (SER) - New Features in 5.1.0 ======

<fc #0000FF>
**Previous devel, current stable, version was 5.0.x (released on February 27, 2017), see what was new in that release at:**
</fc>
  * <fc #0000FF>http://www.kamailio.org/wiki/features/new-in-5.0.x</fc>

<fc #800000>//This is a draft of new features added in devel version, manually updated, thus not always synchronized with what is new in source code repository.//</fc>

===== New Modules =====

==== acc_diameter ====

  * split from acc module
  * https://kamailio.org/docs/modules/devel/modules/acc_diameter.html

==== app_sqlang ====

  * https://kamailio.org/docs/modules/devel/modules/app_sqlang.html

==== call_obj ====

  * https://kamailio.org/docs/modules/devel/modules/call_obj.html

==== evrexec ====

  * https://kamailio.org/docs/modules/devel/modules/evrexec.html

==== ims_diameter_server ====

  * https://kamailio.org/docs/modules/devel/modules/ims_diameter_server.html

==== keepalive ====

  * https://kamailio.org/docs/modules/devel/modules/keepalive.html

==== phonenum ====

  * https://kamailio.org/docs/modules/devel/modules/phonenum.html

==== topos_redis ====

  * https://kamailio.org/docs/modules/devel/modules/topos_redis.html

===== New in Old Modules =====

==== app_lua ====

  * rpc app_lua.api_list command

==== app_python ====

  * support for variables in parameters of cfg functions

==== auth_ephemeral ====

  * added SHA384 as hashing option

==== db_text ====

  * added rpc command db_text.query to do db query
  * added db_delim parameter - specify field delimiter

==== db_postgress ====

  * implemented insert_update() API function

==== dialog ====

  * $dlg_ctx(timeout_route) returns route block name

==== dmq ====

 * added option to use non-locking workers

==== dmq_usrloc ====

  * support to sync with multi contacts per message
  * new parameter batch_max_msg_size

==== drouting ====

   * use keepalive module to monitor GW/destinations (for sort_order 0)

==== ims_charging ====

  * added a custom_user_avp parameter, to allow a custom From user via avp

==== ims_isc ====

  * allow regex in RURI field

==== lcr ====

  * added lcr.load_gws rpc function
  * added possibility to match caller URI userpart to a mtree tvalue

==== ndb_redis ====

  * added REDIS-Cluster support
  * added pipeline support for REDIS commands
  * new feature to disable server on failure
  * added flush_on_reconnect parameter

==== presence ====

  * added pres_has_subscribers() function
  * added cseq_offset parameter

==== pv ====

  * $env(...) - new class of cfg variable to get values for environment variables
  * print cfg line for string transformation errors
  * new variable - $hdrc(HName) - return the number of headers matching the name with HName

==== pua_dialoginfo ====

  * added flags to disable caller and/or callee PUBLISH

==== rabbitmq ====

  * added direct_reply_to module parameter
  * added url module parameter

==== registrar ====

  * apply method_filtering only on initial requests without to-tag

==== sipcapture ====

  * added $hep(dst_ip) variable to get hep's message destination IP

==== sipt ====

  * the digit terminator is made optional on set_destination

==== siptrace ====

  * add support for HEPv3
  * add hlog() to send logs to homer

==== siputils ====

  * added is_alphanum(v) function
    * check if a string value contains only digits or alphabetic characters
  * added is_alphanumex(tval, eset) function
    * check if tval contains only alphanumeric characters or those from the eset parameter

==== tls ====

  * basic level of libressl compatibility (for openssl v1.0.x)

==== tm ====

  * use a stack of structures for faked_env()

==== tmx ====

  * new vars - $T(id_index_n) and $T(id_label_n)
    * similar to $T(id_index) and $T(id_label), but if transaction doesn't exist yet, it is created

==== topos ====

  * new parameter storage - specify the storage type to be used (default is database)

==== uri_db ====

  * new variant with subscriber and realm params for check_uri()

==== usrloc ====

  * new parameter db_load: enable/disable loading from the database on mod_init
  * new parameter db_insert_update: insert into table, update on duplicate key
  * added more attributes to the result of ul.dump

===== New in Core =====

==== Interpreter ====

==== Parameters ====

  * ip_free_bind - control if Kamailio should attempt to bind to non local ip
  * tcp_reuse_port - reuse tcp sockets

==== Functions ====

==== Misc ====

  * support for parsing the Call-Info header
  * do not terminate on harmless SIGCHLD (e.g., when kemi python scripts create and terminate new processes)

==== kamailio.cfg ====

===== Tools =====

==== kamcmd ====

==== kamctl ====

  * added srv command
    * shortcuts to RPC commands to print sockets, aliases and available RPC commands

==== kamcli ====
